<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <title>Vim的闲言碎语 - int main() { return 0; }</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="keywords" content="">
  <link rel="canonical" href="https://htfy96.github.io/2015/06/05/vim%E7%9A%84%E9%97%B2%E8%A8%80%E7%A2%8E%E8%AF%AD/">

  
  <link rel="stylesheet" type="text/css" href="https://htfy96.github.io/css/basscss.css">
  <link rel="stylesheet" type="text/css" href="https://htfy96.github.io/css/main.css">

  
  <link rel="stylesheet" type="text/css" href="https://htfy96.github.io/css/highlight/styles/railscasts.css">

  
  <link rel='stylesheet' type='text/css' href='//fonts.googleapis.com/css?family=Lato:900,400,300'> 
  

  

  
  

</head>

<body class="">
<div class="site-wrap">
  <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <a href="https://htfy96.github.io" class="site-title">int main() { return 0; }</a>
      <nav class="site-nav right">
      <a href="https://htfy96.github.io/about/">About</a>
<a href="https://htfy96.github.io/tags/">Tags</a>
<a href="https://htfy96.github.io/contact/">Contact</a>
</form>

      </nav>
      <div class="clearfix"></div>
    </div>
  </div>
</header>

  <div class="post p2 p-responsive wrap" role="main">
    <div class="measure">
      <div class="post-header mb2">
        <h1 class="py2">Vim的闲言碎语</h1>
        <span class="post-meta">Jun 5, 2015 by htfy96</span><br>
        
      </div>

      <article class="post-content">
      

<blockquote>
<p>不知不觉也用了接近两年的Vim了，也该写写Vim的一些东西了</p>
</blockquote>

<h1 id="vim的目的">Vim的目的</h1>

<p>_通用_的<em>高效</em> <strong>文本编辑器</strong></p>

<p>首先，通用体现在能支持多种语言的编辑甚至编译运行。</p>

<p>它的键位的确是精心设计过的，用惯了会非常高效。</p>

<p>但Vim始终只是一个文本编辑器，要它提供大型IDE类似的功能是做不到的（当然能在配置后胜过一些中小型IDE）。</p>

<h1 id="安装vim">安装Vim</h1>

<p>Ubuntu直接<code>apt-get install vim-gtk python lua build-essential clang clang-dev</code>即可。</p>

<p>Win下由于种种原因，官方版本并非最好选择。建议安装<a href="https://tuxproject.de/projects/vim/">https://tuxproject.de/projects/vim/</a> 的版本，解压后运行install.exe，按d即可。</p>

<p>之后强烈建议<a href="http://sourceforge.net/projects/luabinaries/files/5.3/Windows%20Libraries/Dynamic/">http://sourceforge.net/projects/luabinaries/files/5.3/Windows%20Libraries/Dynamic/</a> 这里下载对应的lua-5.3_Win32/64_dllw4_lib.zip ，把其中的lua5.3.dll放到vim.exe同目录下。</p>

<p>之后在<a href="https://www.python.org/downloads/windows/">https://www.python.org/downloads/windows/</a> 下载 python2.7安装时注意勾选添加到path。</p>

<p>最后强烈建议安装<a href="http://clang.llvm.org/">http://clang.llvm.org/</a> （clang） 和 <a href="http://blog.csdn.net/sfezst/article/details/6212522">http://blog.csdn.net/sfezst/article/details/6212522</a> 1/2步 （ctags）并都添加到PATH。</p>

<p>这样才算安装完全，下面步骤出错的概率会更小。</p>

<p>一开始Vim肯定是这样的：</p>

<p><img src="https://i0.wp.com/www.intmainreturn0.com/upload/2015-06-05%2021-15-54%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png?w=840" alt="此处输入图片的描述" data-recalc-dims="1" /></p>

<h1 id="初步配置">初步配置</h1>

<p>Vim的配置分为两个部分：</p>

<p>一部分是配置文件，在linux下是/home/你的用户名/.vimrc，windows下是vim.exe目录下的_vimrc，我们的设置就在这个里面。</p>

<p>另一部分是种种插件的存储目录，大概就是linux下的/home/xxx/.vim/和win下的vim.exe目录下的一大堆<code>autoload</code> <code>plugin</code> <code>ftplugin</code>等等文件夹。</p>

<p>以下用win介绍，linux的可类推。</p>

<p>一开始gui界面是gvim，是相当简陋的，我们需要一些基础的配置。</p>

<h2 id="sensible-vim">Sensible.vim</h2>

<blockquote>
<p>sensible.vim : Defaults everyone can agree on</p>
</blockquote>

<p>用这个起步很简单。把<a href="http://www.vim.org/scripts/script.php?script_id=4391">http://www.vim.org/scripts/script.php?script_id=4391</a> 下载下来的sensible.zip中的plugin目录和vim.exe目录中的plugin目录合并。正常情况下你应该能看到plugin\sensible.vim 的文件，这样就配置完成了。</p>

<h2 id="vimrc起步">_vimrc起步</h2>

<p>在vim.exe目录下新建_vimrc，写入以下起步内容：</p>

<pre><code class="language-vim">set nocompatible
source $VIMRUNTIME/vimrc_example.vim
source $VIMRUNTIME/mswin.vim
behave mswin
syntax on          
colorscheme slate       
set cursorline 
set lines=32 columns=130

set guifont=courier_new:h11:w6 
" detect file type
filetype on
filetype plugin on

" If using a dark background within the editing area and syntax highlighting
" turn on this option as well
set background=dark

" Uncomment the following to have Vim jump to the last position when
" reopening a file
if has("autocmd")
    au BufReadPost * if line("'\"") &gt; 1 && line("'\"") &lt;= line("$") | exe "normal! g'\"" | endif
    "have Vim load indentation rules and plugins according to the detected filetype
    filetype plugin indent on
endif

" The following are commented out as they cause vim to behave a lot
" differently from regular Vi. They are highly recommended though.

set autowrite        
set autoindent        
set smartindent       
set tabstop=4       
set smarttab
set softtabstop=4   
set noexpandtab! 

set cindent          
set cinoptions={0,1s,t0,n-2,p2s,(03s,=.5s,&gt;1s,=1s,:1s     

set showmatch       
set linebreak       
set whichwrap=b,s,&lt;,&gt;,[,] 
set hidden " Hide buffers when they are abandoned
set mouse=a            
set number           
set history=50        " set command history to 50    

set laststatus=2 
set ruler 

set showcmd            
set showmode       

"--find setting--
set incsearch        
set hlsearch        </code></pre>

<p>之后会长这样，基本就能满足基本需求了。</p>

<p>![Alt text](./2015-06-05 21-56-05屏幕截图.png)</p>

<h2 id="插件管理基础">插件管理基础</h2>

<h3 id="pathogen-8211-独立本地插件目录">Pathogen &#8211; 独立本地插件目录</h3>

<p><a href="http://blog.csdn.net/zhaoyw2008/article/details/8012757">http://blog.csdn.net/zhaoyw2008/article/details/8012757</a></p>

<p>插件多了你会发现各个插件直接解压到各个目录会很混乱。这个插件可以让其他插件解压到bundle文件夹下的单独文件夹下，便于分离</p>

<h3 id="vundle-8211-自动在线下载-更新插件">Vundle &#8211; 自动在线下载/更新插件</h3>

<p><a href="http://lab.yqc.im/Windows-vim-vundle.html">http://lab.yqc.im/Windows-vim-vundle.html</a></p>

<p>上文1/2步就是安装Vundle，安装之后只要指定插件的github作者和名称就能自动下载安装了。</p>

<h1 id="插件推荐">插件推荐</h1>

<p>如何寻找插件：github / www.vim.org/scripts/</p>

<h2 id="语言类">语言类</h2>

<h3 id="两个cpp语言增强">两个cpp语言增强</h3>

<p><a href="http://www.vim.org/scripts/script.php?script_id=1640">http://www.vim.org/scripts/script.php?script_id=1640</a></p>

<p><a href="http://www.vim.org/scripts/script.php?script_id=4293">http://www.vim.org/scripts/script.php?script_id=4293</a></p>

<h3 id="python">Python</h3>

<p><a href="http://www.vim.org/scripts/script.php?script_id=790">http://www.vim.org/scripts/script.php?script_id=790</a></p>

<h3 id="javascript">Javascript</h3>

<p><a href="http://www.vim.org/scripts/script.php?script_id=1491">http://www.vim.org/scripts/script.php?script_id=1491</a></p>

<h3 id="markdown">Markdown</h3>

<p><a href="http://www.vim.org/scripts/script.php?script_id=2882">http://www.vim.org/scripts/script.php?script_id=2882</a></p>

<h3 id="显示css颜色">显示CSS颜色</h3>

<p><a href="http://www.vim.org/scripts/script.php?script_id=2150">http://www.vim.org/scripts/script.php?script_id=2150</a></p>

<h3 id="汇编">汇编</h3>

<p><a href="http://www.vim.org/scripts/script.php?script_id=1650">http://www.vim.org/scripts/script.php?script_id=1650</a></p>

<h2 id="界面类">界面类</h2>

<h3 id="airline">Airline</h3>

<p><a href="https://github.com/bling/vim-airline">https://github.com/bling/vim-airline</a></p>

<p>轻量版状态栏</p>

<h3 id="startify">Startify</h3>

<p><a href="https://github.com/mhinz/vim-startify">https://github.com/mhinz/vim-startify</a></p>

<p>启动界面</p>

<h2 id="小功能类">小功能类</h2>

<h3 id="easytags">Easytags</h3>

<p>保存时自动调用ctags生成文件，必备。</p>

<p>安装见<a href="http://blog.csdn.net/sfezst/article/details/6212522">http://blog.csdn.net/sfezst/article/details/6212522</a> 1/2步</p>

<h3 id="tagbar">Tagbar</h3>

<p>侧边栏显示各种东西，Taglist增强版，必备</p>

<h3 id="nerdtree">NERDTree</h3>

<p>侧边栏显示文件列表，必备</p>

<h3 id="easymotion">Easymotion</h3>

<p>可以用<code>\\w</code>之类的命令直接跳转到任何一个w能跳转到的地方，必备</p>

<h3 id="fugitive">fugitive</h3>

<p>GIT集成，基本必备</p>

<h3 id="vim-unimpaired">vim-unimpaired</h3>

<p>为很多<code>:set xxx</code>提供了<code>[x</code>的快捷操作</p>

<h3 id="vimshell">VimShell</h3>

<p>侧边栏打开Shell，兼容性比较好</p>

<h3 id="vim-indent-guide">Vim-indent-guide</h3>

<p>每行左边缩进处显示一条线</p>

<h3 id="zoomwin">ZoomWin</h3>

<p>Ctrl+鼠标滚轮放大/缩小窗口</p>

<h3 id="guicolorscheme">Guicolorscheme</h3>

<p>让gvim的配色到终端vim中也能用，win下表现糟</p>

<h2 id="补全-深层语义-提示">补全/深层语义/提示</h2>

<p>个人的组合是Syntastic提示+YCM补全c/cpp/c#/python + neocomplete with jscomplete and phpcomplete解决其他的</p>

<h3 id="singlecompile">SingleCompile</h3>

<p>必备。手动定义Compile函数的日子一去不复返了。</p>

<h3 id="syntastic">Syntastic</h3>

<p>智能提示错误，基本必备。cpp需要clang以获得最佳效果</p>

<p><a href="https://github.com/scrooloose/syntastic/wiki">https://github.com/scrooloose/syntastic/wiki</a></p>

<h3 id="neocomplete">Neocomplete</h3>

<p>这个需要配合jscomplete和phpcomplete来解决大多数问题。非语义匹配最强。</p>

<p>可以用<code>autocmd FileType cpp,c,python3,python,csharp,java NeoCompleteLock</code>来禁用掉其在这几种文件类型的匹配</p>

<h3 id="youcompleteme-clang-complete">YoucompleteMe/Clang_complete</h3>

<p>windows下前者安装较为困难，但是效果前者好很多。（<a href="https://bitbucket.org/Haroogan/vim-youcompleteme-for-windows/">https://bitbucket.org/Haroogan/vim-youcompleteme-for-windows/</a> 这里有YCM的Windows预编译版本）</p>

<p>cpp语义匹配最强</p>

<h3 id="javacomplete2">Javacomplete2</h3>

<p><a href="https://github.com/artur-shaik/vim-javacomplete2">https://github.com/artur-shaik/vim-javacomplete2</a></p>

<p>开发中，个人很看好</p>

<h3 id="vim-latex">Vim-latex</h3>

<p>Latex支持，个人感觉一般</p>

<h3 id="gtags">Gtags</h3>

<p>被埋没的好东西。和ctags相比更适合用来阅读大代码。</p>

<p>首先请安装gnu global（windows：<a href="http://adoxa.altervista.org/global/">http://adoxa.altervista.org/global/</a> linux请自行编译6.4版本，软件仓库中的太老了）</p>

<p>之后安装Gtags.vim</p>

<p>在一个大型项目中的顶层运行<code>gtags</code>(vim之外的命令行)，稍等片刻会生成<code>GTAGS</code> 和 <code>GRTAGS</code>文件。之后在任何子目录的vim中使用<code>:GTagsCursor</code>和<code>Gtags 标签名</code>就会跳转到定义的地方去了。</p>

<p>基本以上这些就是常用的插件了，具体还要靠各位自己琢磨了。最后打个广告，推销下自己的配色：<a href="http://www.vim.org/scripts/script.php?script_id=5112">http://www.vim.org/scripts/script.php?script_id=5112</a></p>

      </article>

      <p class="post-meta">Tags:&nbsp;
        
      </p>

      

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
this.page.url = "https:\/\/htfy96.github.io\/2015\/06\/05\/vim%E7%9A%84%E9%97%B2%E8%A8%80%E7%A2%8E%E8%AF%AD\/";  
this.page.identifier = "\/2015\/06\/05\/vim%E7%9A%84%E9%97%B2%E8%A8%80%E7%A2%8E%E8%AF%AD\/";
};
(function() {
var d = document, s = d.createElement('script');
s.src = 'https://' + 'intmainreturn0-com' + ".disqus.com/embed.js";
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


    </div>
  </div>
</div>
    <footer class="footer">
      <div class="p2 wrap">
        <div class="measure mt1 center">
      <nav class="social-icons icons">
<a class="fa fa-rss rss" href="https://htfy96.github.io/index.xml"></a>

<a class="fa fa-twitter twitter" href="https://twitter.com/HTwood96"></a>

</nav>

          <small>
            Copyright &#169; 2017<br>
            Powered by <a href="http://gohugo.io/" target="_blank">Hugo</a> &amp; <a href="https://github.com/azmelanar/hugo-theme-pixyll" target="_blank">Pixyll</a>
          </small>
        </div>
      </div>
    </footer>

    
    <script src="https://htfy96.github.io/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
    


</body>
</html>

