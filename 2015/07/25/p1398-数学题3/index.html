<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>P1398 数学题3 - int main() { return 0; }</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=author content><meta name=keywords content><link rel=canonical href=/2015/07/25/p1398-%E6%95%B0%E5%AD%A6%E9%A2%983/><link rel=stylesheet type=text/css href='//fonts.googleapis.com/css?family=Lato:900,400,300'><link rel=stylesheet type=text/css href=//css/combined-min.css></head><body><div class=site-wrap><header class="site-header px2 px-responsive"><div class="mt2 wrap"><div class=measure><a href=/ class=site-title>int main() { return 0; }</a><nav class="site-nav right"><a href=//about/>About</a>
<a href=//tags/>Tags</a>
<a href=https://intmainreturn0.com/cv>Resume</a>
<a href=//contact/>Contact</a></form></nav><div class=clearfix></div></div></div></header><div class="post p2 p-responsive wrap" role=main><div class=measure><div class="post-header mb2"><h1 class=py2>P1398 数学题3</h1><span class=post-meta>Jul 25, 2015 by htfy96</span><br></div><article class=post-content><h1 id=problem>Problem</h1><p><a href=http://acm.sjtu.edu.cn/OnlineJudge/problem/1398>http://acm.sjtu.edu.cn/OnlineJudge/problem/1398</a></p><blockquote><h3 id=题目描述>题目描述</h3><p>给定一个数字，他在十进制下从高位到低位一次是n0, n1, n2, n3,…</p></blockquote><blockquote><p>那么定义它的“差和”为n0-n1+n2-n3+…</p></blockquote><blockquote><p>如：十进制数字abcdefg，每个字母代表一个位，那么差和为a-b+c-d+e-f+g。</p><p>所以十进制数字1234567差和为1-2+3-4+5-6+7=4</p><p>现在给你们一个闭区间[m, n]，请求出区间内差和为x的数字个数。</p><h3 id=输入格式>输入格式</h3><p>输入只有一行，三个数字，m n x</p><p>30%: 0&lt;= m &lt;= n &lt;=10^3, 50%: 0&lt;= m &lt;= n &lt;=10^8, 100%: 0&lt;= m &lt;= n &lt;=10^18</p><p>-100&lt;= x &lt;=100</p><h3 id=输出格式>输出格式</h3><p>输出只有一个数字，表示区间内差和为x的数字的总和mod1000000007的结果。</p><h3 id=sample-input>Sample Input</h3><pre><code>100 111 1
</code></pre><h3 id=sample-output>Sample Output</h3><pre><code>211
</code></pre></blockquote><h1 id=analysis>Analysis</h1><p>相当捉急的题目。</p><p>令F[i][first digit][j]</p><p>表示长度为i的数（包括010 这个3位数），第一位为first digit时，差和为j的个数</p><p>令g[i][first digit][j]</p><p>表示长度为i的数（包括010 这个3位数），第一位为first digit时，差和为j的数之和</p><p>之后可以利用简单dp推出f、g</p><p>主要难点在于如何把实际的一些数分拆出来。</p><p>简化，我们只考虑统计1～n之间满足条件数的和，之后利用减法就能得到区间结果。</p><p>（函数calc）这个是不包括有前导0的情况的。</p><p>比如说234。我们可以分拆成 0 + [00,99] , 100~199 , 2+[00,34]</p><p>如果知道[00,34]有k个数（如何求出这k个数见calcnum）满足我们对这个区间的需求，那么234在2+[00,34]内所有数之和就是[00,34]所有数之和 + 200 *k</p><p>然而，我们在去掉头一位时，不可避免地需要统计[00,99]区间内的情况，它是与calc函数不同的。因此我们使用了一个calc2函数来解决这个问题。</p><p>取余坑。</p><h1 id=code>Code</h1><blockquote></blockquote></article></div></div></div><footer class=footer><div class="p2 wrap"><div class="measure mt1 center"><nav class="social-icons icons"><a class="fa fa-rss rss" href=/index.xml></a>
<a class="fa fa-twitter twitter" href=https://twitter.com/HTwood96></a></nav><small>Copyright &#169; 2017<br>Powered by <a href=http://gohugo.io/ target=_blank>Hugo</a> & <a href=https://github.com/azmelanar/hugo-theme-pixyll target=_blank>Pixyll</a></small></div></div></footer><script src=/js/highlight.pack.js></script>
<script>hljs.initHighlightingOnLoad()</script></body></html>